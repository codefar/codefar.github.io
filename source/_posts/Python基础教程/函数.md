---
layout: post
title: Python基础教程-函数
date: '2020-5-14 16:02'
categories: Python
tags: [Python]
description: Python学习
comments: true
---

[TOC]

# 函数  

函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。
函数能提高应用的模块性，和代码的重复利用率。
## 函数定义

- 函数代码块以 def 关键词开头，后接函数标识符名称和圆括号()。
- 任何传入参数和自变量必须放在圆括号中间。圆括号之间可以用于定义参数。
- 函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。
- 函数内容以冒号起始，并且缩进。
- return [表达式] 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。


```
def 函数名（参数列表）:
    "函数_文档字符串"
    函数体
    return [expression]
```

## 函数调用

要调用一个函数，需要知道函数的名称和参数，返回值。

也可以在交互式命令行通过help(abs)查看abs函数的帮助信息。

```
# 定义函数
def my_print( str ):
   "打印任何传入的字符串"
   print (str)
   return str
 
# 调用函数
my_print("我要调用用户自定义函数!")
my_print("再次调用同一函数")
```

## 参数传递
在 python 中，**类型属于对象，变量是没有类型的：**

```
a=[1,2,3]
a="data"
```

以上代码中，[1,2,3] 是 List 类型，"data" 是 String 类型，而变量 a 是没有类型，它她仅仅是一个对象的引用（一个指针），可以是 List 类型对象，也可以指向 String 类型对象。

### 可更改(mutable)与不可更改(immutable)对象
在 python 中，strings, tuples, 和 numbers 是不可更改的对象，而 list,dict 等则是可以修改的对象。

- **不可变类型：** 变量赋值 a=5 后再赋值 a=10，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃。

- **可变类型：** 变量赋值 la=[1,2,3,4] 后再赋值 la[2]=5 则是将 list la 的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了。

python 函数的参数传递：

- **不可变类型：** 类似 c++ 的值传递，如 整数、字符串、元组。如fun（a），传递的只是a的值，没有影响a对象本身。比如在 fun（a）内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。

- **可变类型：** 类似 c++ 的引用传递，如 列表，字典。如 fun（la），则是将 la 真正的传过去，修改后fun外部的la也会受影响

python 中一切都是对象，严格意义我们不能说值传递还是引用传递，我们应该说传不可变对象和传可变对象。


## 参数
以下是调用函数时可使用的正式参数类型：

- 必需参数
- 关键字参数
- 默认参数
- 不定长参数

### 必备参数
必备参数须以正确的顺序传入函数。调用时的数量必须和声明时的一样。

### 关键字参数
关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。

使用关键字参数允许函数调用时参数的顺序与声明时不一致。

以下实例在函数 printme() 调用时使用参数名：


```
#!/usr/bin/python
# -*- coding: UTF-8 -*-
 
#可写函数说明
def printme( str ):
   "打印任何传入的字符串"
   print str;
   return;
 
#调用printme函数
printme( str = "My string");
```

### 默认参数

调用函数时，如果没有传递参数，则会使用指定的默认参数。

```
#可写函数说明
def my_print( name, age = 35 ):
   "打印任何传入的字符串"
   print ("名字: ", name)
   print ("年龄: ", age)
   return
 
#调用my_print函数
my_print( age=50, name="runoob" )
print ("------------------------")
my_print( name="runoob" )
```

### 不定长参数

Python支持不定长参数。基本语法如下：

加了星号（*）的变量名会存放所有未命名的变量参数。如果在函数调用时没有指定参数，它就是一个空元组。

```
def functionname([formal_args,] *var_args_tuple ):
   "函数_文档字符串"
   function_suite
   return [expression]
```

```
# 可写函数说明
def printinfo(arg1, *vartuple ):
   "打印任何传入的参数"
   print ("输出: ")
   print (arg1)
   for var in vartuple:
      print (var)
   return
 
# 调用printinfo 函数
printinfo( 10 )
printinfo( 70, 60, 50 )
```

声明函数时，参数中星号(*)可以单独出现，例如:

```
def f(a,b,*,c):
    return a+b+c
```
    
用法：星号（*）后的参数必须用关键字传入。


```
>>> def f(a,b,*,c):
...     return a+b+c
... 
>>> f(1,2,3)   # 报错
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: f() takes 2 positional arguments but 3 were given  

>>> f(1,2,c=3) # 正常
6
>>>
```

## 匿名函数
python 支持匿名函数，所谓匿名，意即不再使用 def 语句这样标准的形式定义一个函数。使用 lambda 来创建匿名函数。

lambda 只是一个表达式，函数体比 def 简单很多。
lambda的主体是一个表达式，而不是一个代码块。
lambda 函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。

### 语法
lambda 函数的语法只包含一个语句，如下：

```
lambda [arg1 [,arg2,.....argn]]:expression
```

如下实例：

```
# 可写函数说明
sum = lambda arg1, arg2: arg1 + arg2
 
# 调用sum函数
print ("相加后的值为 : ", sum( 10, 20 ))
print ("相加后的值为 : ", sum( 20, 20 ))
以上实例输出结果：

相加后的值为 :  30
相加后的值为 :  40
```

## return语句
return [表达式] 语句用于退出函数，选择性地向调用方返回一个表达式。不带参数值的return语句返回None。
